(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4fd94e07"],{"160c":function(e,t,a){"use strict";a.r(t),a("89a8"),a("b110"),a("fe35"),a("7216"),a("609b"),a("cb0b"),a("3aac");var n=a("cf45"),c=a("acbd"),i={name:"faceRecognitionPage",setup:function(){var e=Object(c.f)(null),t=Object(c.f)(!1),a=Object(c.f)(null),i=Object(c.f)(!1),o=Object(c.f)(""),s=null;function r(){i.value=!0;var e=new window.tracking.ObjectTracker("face");e.setInitialScale(4),e.setStepSize(2),e.setEdgesDensity(.1),s=window.tracking.track("#video",e,{camera:!0}),e.on("track",(function(e){e.data.length>0&&i.value&&u()}))}function u(){i.value=!1;var t=a.value,c=e.value,s=t.getContext("2d");s.clearRect(0,0,t.width,t.height),s.drawImage(c,0,0,t.width,t.height);var r=t.toDataURL("image/jpeg"),u=URL.createObjectURL(Object(n.a)(r));o.value=u,sessionStorage.setItem("userInfoImg",u)}function d(){s.stop(),e.value.srcObject.getTracks()[0].stop()}return Object(c.c)((function(){r()})),Object(c.d)((function(){d()})),{videoRef:e,screenshotCanvasRef:a,uploadLock:i,picShow:t,userHeaderImg:o,init:r,screenshotAndUpload:u,close:d}}},o=(a("f146"),a("cba8")),s=Object(o.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LayOutIndex",{attrs:{titleShow:"",back:"",userHeaderImg:e.userHeaderImg}},[a("div",{staticClass:"video-box"},[a("video",{ref:"videoRef",attrs:{id:"video",preload:"",autoplay:"",loop:"",muted:""},domProps:{muted:!0}})]),a("canvas",{ref:"screenshotCanvasRef",style:{display:e.picShow?"":"none"},attrs:{id:"screenshotCanvas",width:"320",height:"240"}}),a("div",{staticClass:"btnHandle"},[a("van-button",{attrs:{type:"primary"},on:{click:e.init}},[e._v("开启摄像头")]),a("van-button",{attrs:{type:"primary"},on:{click:function(t){e.picShow=!e.picShow}}},[e._v(e._s(e.picShow?"不看了":"照片看看"))]),a("van-button",{attrs:{type:"primary"},on:{click:e.close}},[e._v("关闭摄像头")])],1)])}),[],!1,null,"4d8bd620",null);t.default=s.exports},f146:function(e,t,a){"use strict";a("f72d")},f72d:function(e,t,a){}}]);