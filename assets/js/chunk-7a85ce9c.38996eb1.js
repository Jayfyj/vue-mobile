(this.webpackJsonp=this.webpackJsonp||[]).push([["chunk-7a85ce9c"],{"06da":function(e,t,a){"use strict";a("a212")},1744:function(e,t,a){"use strict";a("552a")},"1edd":function(e,t,a){"use strict";a("3096")},3096:function(e,t,a){},3467:function(e,t,a){"use strict";var n=a("3d0a"),o=a("0a54").trim;n({target:"String",proto:!0,forced:a("e6b4")("trim")},{trim:function(){return o(this)}})},"457d":function(e,t,a){"use strict";var n=a("3d0a"),o=a("5fe9").map;n({target:"Array",proto:!0,forced:!a("2018")("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"552a":function(e,t,a){},"797a":function(e,t,a){"use strict";var n=a("3d0a"),o=a("e145"),r=a("7050"),c=a("a8c8"),i=a("ba6c"),d=o([].join),s=r!=Object,u=i("join",",");n({target:"Array",proto:!0,forced:s||!u},{join:function(e){return d(c(this),void 0===e?",":e)}})},"7a73":function(e,t,a){},"8f4f1":function(e,t,a){"use strict";a("7a73")},"9ed6":function(e,t,a){"use strict";a.r(t);var n=a("2e36"),o=(a("0b9a"),a("797a"),a("457d"),a("d994"),{name:"ValidCode",props:{width:{type:String,default:"100px"},height:{type:String,default:"40px"},length:{type:Number,default:4},backgroundColor:{type:String,default:"#ffffdf"}},data:function(){return{codeList:[]}},mounted:function(){this.createdCode()},methods:{refreshCode:function(){this.createdCode()},createdCode:function(){for(var e=this.length,t=[],a="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",n=a.length,o=0;o<e;o++){var r=[Math.round(220*Math.random()),Math.round(240*Math.random()),Math.round(200*Math.random())];t.push({code:a.charAt(Math.floor(Math.random()*n)),color:"rgb(".concat(r,")"),fontSize:"1".concat([Math.floor(10*Math.random())],"px"),padding:"".concat([Math.floor(10*Math.random())],"px"),transform:"rotate(".concat(Math.floor(90*Math.random())-Math.floor(90*Math.random()),"deg)")})}this.codeList=t,this.$emit("update:value",t.map((function(e){return e.code})).join(""))},getStyle:function(e){return"color: ".concat(e.color,"; font-size: ").concat(e.fontSize,"; padding: ").concat(e.padding,"; transform: ").concat(e.transform)}}}),r=(a("1edd"),a("cba8")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ValidCode disabled-select",style:"width:"+e.width+"; height:"+e.height+";background:"+e.backgroundColor,on:{click:e.refreshCode}},e._l(e.codeList,(function(t,n){return a("span",{key:n,style:e.getStyle(t)},[e._v(e._s(t.code))])})),0)}),[],!1,null,"317fb694",null).exports,i=(a("7e5a"),a("cbee"),a("3328"),a("6ffc"),a("f698"),a("cb0b"),a("a9bd"),a("cb0b3"),a("3aac"),a("a18c")),d=a("cf45"),s={name:"FaceLogin",setup:function(){var e=Object(n.f)(null),t=Object(n.f)(null),a=Object(n.f)(!1),o=Object(n.e)({value:i.a}),r=null;function c(){a.value=!0;var e=new window.tracking.ObjectTracker("face");e.setInitialScale(4),e.setStepSize(2),e.setEdgesDensity(.1),r=window.tracking.track("#video",e,{camera:!0}),e.on("track",(function(e){e.data.length>0&&a.value&&s()}))}function s(){a.value=!1;var n=t.value,r=e.value,c=n.getContext("2d");c.clearRect(0,0,n.width,n.height),c.drawImage(r,0,0,n.width,n.height);var i=n.toDataURL("image/jpeg"),s=URL.createObjectURL(Object(d.a)(i));sessionStorage.setItem("userInfoImg",s),o.value.replace("/"),u()}function u(){r.stop(),e.value.srcObject.getTracks()[0].stop()}return Object(n.c)((function(){c()})),Object(n.d)((function(){u()})),{videoRef:e,screenshotCanvasRef:t,uploadLock:a,router:o,init:c,screenshotAndUpload:s,close:u}}},u=(a("8f4f1"),Object(r.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"video-box"},[t("video",{ref:"videoRef",attrs:{id:"video",preload:"",autoplay:"",loop:"",muted:""},domProps:{muted:!0}})]),t("canvas",{ref:"screenshotCanvasRef",attrs:{id:"screenshotCanvas",width:"320",height:"240"}})])}),[],!1,null,"78de4a4c",null).exports),l=(a("998e"),a("3467"),a("f150"),{REX_USER_ID:/^[a-zA-Z0-9_-]{4,16}$/,REX_PASSWORD_STRONG:/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,REX_INTEGER:/^\d+$/,REX_NUMBER:/^\d*\.?\d+$/,REX_EMAIL:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,REX_PHONE:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$/,REX_ID:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,REX_URL:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,REX_COLOR:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,REX_DATE:/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/,REX_QQ:/^[1-9][0-9]{4,10}$/,REX_WX:/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/,REX_CARNUM:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,REX_CHINSES:/[\u4E00-\u9FA5]/,REX_CHINSESNAME:/^[\u4e00-\u9fa5]{1,10}$/,REX_ENGLISHNAME:/^[a-zA-Z]{1,30}$/,REX_INTEGER_ONE_POINT_TWO:/(^([1-9]|0)$|^([1-9]|0)\.\d{1,2}$)/,REX_INTEGER_THREE_POINT_FIVE:/(^([1-9]\d{0,2}|0)$|^([1-9]\d{0,2}|0)\.\d{1,5}$)/,REX_INTEGER_FOUR_POINT_TWO:/(^([1-9]\d{0,3}|0)$|^([1-9]\d{0,3}|0)\.\d{1,2}$)/,REX_INTEGER_POINT:/(^([1-9]\d*|0)$|^([1-9]\d*|0)\.\d+$)/,REX_PONIT_ZERO:/(^([1-9]\d*|0)\.0+$)/}),f={name:"FormLogin",components:{ValidCode:c},setup:function(){var e=Object(n.f)("jay_123"),t=Object(n.f)("123456"),a=Object(n.f)(""),o=Object(n.f)(""),r=Object(n.e)({value:i.a});return{username:e,password:t,validCode:a,verfiCode:o,router:r,checkName:function(e){return l.REX_USER_ID.test(e.trim())},checkPassword:function(e){return/^[0-9]{6}$/.test(e.trim())},checkValidCode:function(e){return e.toLowerCase()===o.value.toLowerCase()},onSubmit:function(e){sessionStorage.setItem("userInfo",JSON.stringify(e)),r.value.replace("/")}}}},v=(a("06da"),{name:"login",components:{FormLogin:Object(r.a)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{validator:e.checkName,message:"请输入4到16位（字母，数字，下划线，减号）的用户名"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{validator:e.checkPassword,message:"请输入6位数字密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"vailCode"},[a("van-field",{staticStyle:{flex:"1"},attrs:{label:"验证码",name:"验证码",placeholder:"验证码",rules:[{validator:e.checkValidCode,message:"请输入验证码"}]},model:{value:e.validCode,callback:function(t){e.validCode=t},expression:"validCode"}}),a("ValidCode",{staticStyle:{flex:"0.7"},attrs:{value:e.verfiCode},on:{"update:value":function(t){e.verfiCode=t}}})],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)}),[],!1,null,"d42de332",null).exports,FaceLogin:u},setup:function(){var e=Object(n.f)(0);return{active:e,btnList:[{label:"账号登录",active:0,type:"info"},{label:"人脸识别登录",active:1,type:"info"}],changeActive:function(t){e.value=t.active}}}}),h=(a("1744"),Object(r.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LayOutIndex",{attrs:{titleShow:"",showAddress:""}},[a("div",{staticClass:"btnHandle"},e._l(e.btnList,(function(t){return a("van-button",{key:t.id,staticClass:"btnIitem",attrs:{plain:"",type:t.type},on:{click:function(a){return e.changeActive(t)}}},[e._v(e._s(t.label))])})),1),a("div",{staticClass:"content"},[0===e.active?a("FormLogin"):e._e(),1===e.active?a("FaceLogin"):e._e()],1)])}),[],!1,null,"76646aae",null));t.default=h.exports},a212:function(e,t,a){},e6b4:function(e,t,a){var n=a("414d").PROPER,o=a("6d0e"),r=a("500f");e.exports=function(e){return o((function(){return!!r[e]()||"​᠎"!=="​᠎"[e]()||n&&r[e].name!==e}))}}}]);