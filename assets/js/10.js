(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{386:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("LayOutIndex",{attrs:{titleShow:"",showAddress:""}},[n("div",{staticClass:"btnHandle"},t._l(t.btnList,(function(e){return n("van-button",{key:e.id,staticClass:"btnIitem",attrs:{plain:"",type:e.type},on:{click:function(n){return t.changeActive(e)}}},[t._v(t._s(e.label))])})),1),n("div",{staticClass:"content"},[0===t.active?n("FormLogin"):t._e(),1===t.active?n("FaceLogin"):t._e()],1)])};a._withStripped=!0;var o=n(22),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ValidCode disabled-select",style:"width:"+t.width+"; height:"+t.height+";background:"+t.backgroundColor,on:{click:t.refreshCode}},t._l(t.codeList,(function(e,a){return n("span",{key:a,style:t.getStyle(e)},[t._v(t._s(e.code))])})),0)};r._withStripped=!0,n(216),n(420),n(529),n(214);var i={name:"ValidCode",props:{width:{type:String,default:"100px"},height:{type:String,default:"40px"},length:{type:Number,default:4},backgroundColor:{type:String,default:"#ffffdf"}},data:function(){return{codeList:[]}},mounted:function(){this.createdCode()},methods:{refreshCode:function(){this.createdCode()},createdCode:function(){for(var t=this.length,e=[],n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",a=n.length,o=0;o<t;o++){var r=[Math.round(220*Math.random()),Math.round(240*Math.random()),Math.round(200*Math.random())];e.push({code:n.charAt(Math.floor(Math.random()*a)),color:"rgb(".concat(r,")"),fontSize:"1".concat([Math.floor(10*Math.random())],"px"),padding:"".concat([Math.floor(10*Math.random())],"px"),transform:"rotate(".concat(Math.floor(90*Math.random())-Math.floor(90*Math.random()),"deg)")})}this.codeList=e,this.$emit("update:value",e.map((function(t){return t.code})).join(""))},getStyle:function(t){return"color: ".concat(t.color,"; font-size: ").concat(t.fontSize,"; padding: ").concat(t.padding,"; transform: ").concat(t.transform)}}},c=(n(530),n(17)),s=Object(c.a)(i,r,[],!1,null,"2a35e4a0",null);s.options.__file="src/views/login/components/ValidCode.vue";var d=s.exports,u=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"video-box"},[e("video",{ref:"videoRef",attrs:{id:"video",preload:"",autoplay:"",loop:"",muted:""},domProps:{muted:!0}})]),e("canvas",{ref:"screenshotCanvasRef",attrs:{id:"screenshotCanvas",width:"320",height:"240"}})])};u._withStripped=!0,n(9),n(27),n(18),n(415),n(410),n(32),n(75),n(432),n(433);var l=n(41),f=n(152),v={name:"FaceLogin",setup:function(){var t=Object(o.f)(null),e=Object(o.f)(null),n=Object(o.f)(!1),a=Object(o.e)({value:l.a}),r=null;function i(){n.value=!0;var t=new window.tracking.ObjectTracker("face");t.setInitialScale(4),t.setStepSize(2),t.setEdgesDensity(.1),r=window.tracking.track("#video",t,{camera:!0}),t.on("track",(function(t){t.data.length>0&&n.value&&c()}))}function c(){n.value=!1;var o=e.value,r=t.value,i=o.getContext("2d");i.clearRect(0,0,o.width,o.height),i.drawImage(r,0,0,o.width,o.height);var c=o.toDataURL("image/jpeg"),d=URL.createObjectURL(Object(f.a)(c));sessionStorage.setItem("userInfoImg",d),a.value.replace("/"),s()}function s(){r.stop(),t.value.srcObject.getTracks()[0].stop()}return Object(o.c)((function(){i()})),Object(o.d)((function(){s()})),{videoRef:t,screenshotCanvasRef:e,uploadLock:n,router:a,init:i,screenshotAndUpload:c,close:s}}},p=(n(531),Object(c.a)(v,u,[],!1,null,"4ba31b33",null));p.options.__file="src/views/login/components/FaceLogin.vue";var h=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{validator:t.checkName,message:"请输入4到16位（字母，数字，下划线，减号）的用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{validator:t.checkPassword,message:"请输入6位数字密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticClass:"vailCode"},[n("van-field",{staticStyle:{flex:"1"},attrs:{label:"验证码",name:"验证码",placeholder:"验证码",rules:[{validator:t.checkValidCode,message:"请输入验证码"}]},model:{value:t.validCode,callback:function(e){t.validCode=e},expression:"validCode"}}),n("ValidCode",{staticStyle:{flex:"0.7"},attrs:{value:t.verfiCode},on:{"update:value":function(e){t.verfiCode=e}}})],1),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)};m._withStripped=!0,n(262),n(424),n(423);var _={REX_USER_ID:/^[a-zA-Z0-9_-]{4,16}$/,REX_PASSWORD_STRONG:/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,REX_INTEGER:/^\d+$/,REX_NUMBER:/^\d*\.?\d+$/,REX_EMAIL:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,REX_PHONE:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$/,REX_ID:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,REX_URL:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,REX_COLOR:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,REX_DATE:/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/,REX_QQ:/^[1-9][0-9]{4,10}$/,REX_WX:/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/,REX_CARNUM:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,REX_CHINSES:/[\u4E00-\u9FA5]/,REX_CHINSESNAME:/^[\u4e00-\u9fa5]{1,10}$/,REX_ENGLISHNAME:/^[a-zA-Z]{1,30}$/,REX_INTEGER_ONE_POINT_TWO:/(^([1-9]|0)$|^([1-9]|0)\.\d{1,2}$)/,REX_INTEGER_THREE_POINT_FIVE:/(^([1-9]\d{0,2}|0)$|^([1-9]\d{0,2}|0)\.\d{1,5}$)/,REX_INTEGER_FOUR_POINT_TWO:/(^([1-9]\d{0,3}|0)$|^([1-9]\d{0,3}|0)\.\d{1,2}$)/,REX_INTEGER_POINT:/(^([1-9]\d*|0)$|^([1-9]\d*|0)\.\d+$)/,REX_PONIT_ZERO:/(^([1-9]\d*|0)\.0+$)/},g={name:"FormLogin",components:{ValidCode:d},setup:function(){var t=Object(o.f)(""),e=Object(o.f)(""),n=Object(o.f)(""),a=Object(o.f)(""),r=Object(o.e)({value:l.a});return{username:t,password:e,validCode:n,verfiCode:a,router:r,checkName:function(t){return _.REX_USER_ID.test(t.trim())},checkPassword:function(t){return/^[0-9]{6}$/.test(t.trim())},checkValidCode:function(t){return t===a.value},onSubmit:function(t){sessionStorage.setItem("userInfo",JSON.stringify(t)),r.value.replace("/")}}}},E=(n(532),Object(c.a)(g,m,[],!1,null,"130c28ac",null));E.options.__file="src/views/login/components/FormLogin.vue";var b={name:"login",components:{FormLogin:E.exports,FaceLogin:h},setup:function(){var t=Object(o.f)(0);return{active:t,btnList:[{label:"账号登录",active:0,type:"info"},{label:"人脸识别登录",active:1,type:"info"}],changeActive:function(e){t.value=e.active}}}},R=(n(533),Object(c.a)(b,a,[],!1,null,"37dfd6fc",null));R.options.__file="src/views/login/index.vue",e.default=R.exports},420:function(t,e,n){"use strict";var a=n(26),o=n(3),r=n(92),i=n(45),c=n(148),s=o([].join),d=r!=Object,u=c("join",",");a({target:"Array",proto:!0,forced:d||!u},{join:function(t){return s(i(this),void 0===t?",":t)}})},423:function(t,e,n){var a=n(26),o=n(1),r=n(30),i=n(51),c=n(3),s=n(4),d=o.Array,u=r("JSON","stringify"),l=c(/./.exec),f=c("".charAt),v=c("".charCodeAt),p=c("".replace),h=c(1..toString),m=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,E=function(t,e,n){var a=f(n,e-1),o=f(n,e+1);return l(_,t)&&!l(g,o)||l(g,t)&&!l(_,a)?"\\u"+h(v(t,0),16):t},b=s((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&a({target:"JSON",stat:!0,forced:b},{stringify:function(t,e,n){for(var a=0,o=arguments.length,r=d(o);a<o;a++)r[a]=arguments[a];var c=i(u,null,r);return"string"==typeof c?p(c,m,E):c}})},424:function(t,e,n){"use strict";var a=n(26),o=n(252).trim;a({target:"String",proto:!0,forced:n(425)("trim")},{trim:function(){return o(this)}})},425:function(t,e,n){var a=n(76).PROPER,o=n(4),r=n(253);t.exports=function(t){return o((function(){return!!r[t]()||"​᠎"!=="​᠎"[t]()||a&&r[t].name!==t}))}},458:function(t,e,n){},459:function(t,e,n){},460:function(t,e,n){},461:function(t,e,n){},529:function(t,e,n){"use strict";var a=n(26),o=n(39).map;a({target:"Array",proto:!0,forced:!n(120)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},530:function(t,e,n){"use strict";n(458)},531:function(t,e,n){"use strict";n(459)},532:function(t,e,n){"use strict";n(460)},533:function(t,e,n){"use strict";n(461)}}]);